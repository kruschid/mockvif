"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var body_parser_1 = require("body-parser");
var debug = require("debug");
var express = require("express");
var fs_1 = require("fs");
var rxjs_1 = require("rxjs");
var xml2js_1 = require("xml2js");
var log = debug("MOCKVIF");
exports.mockvif = function (port) {
    var app = express();
    app.use(body_parser_1.text({ type: "application/soap+xml" }))
        .use("/snapshot", function (_, res) {
        log("GET_SNAPSHOT");
        res.send(fs_1.readFileSync("assets/snapshot.jpg"));
    })
        .use("/onvif", function (req, res) {
        xml2js_1.parseString(req.body, function (_, xml) {
            var bodyFirstChild = xml["s:Envelope"]["s:Body"][0];
            var response = bodyFirstChild.GetSystemDateAndTime ? GetSystemDateAndTimeXML
                : bodyFirstChild.GetCapabilities ? GetCapabilitiesXML
                    : bodyFirstChild.GetVideoSources ? GetVideoSourcesXML
                        : bodyFirstChild.GetProfiles ? GetProfilesXML
                            : bodyFirstChild.AbsoluteMove ? AbsoluteMoveXML
                                : null;
            if (bodyFirstChild.AbsoluteMove) {
                var el = bodyFirstChild.AbsoluteMove[0].Position[0];
                var pos = {
                    x: parseInt(el.PanTilt[0].$.x, 10),
                    y: parseInt(el.PanTilt[0].$.y, 10),
                    z: parseInt(el.Zoom[0].$.x, 10),
                };
                log("ABSOLUTE_MOVE " + pos);
            }
            res.send(response);
        });
    });
    return rxjs_1.Observable.create(function () {
        var server = app.listen(port, function () {
            // tslint:disable-next-line:no-console
            return log("mockvif is listening to " + port);
        });
        return function () {
            // tslint:disable-next-line:no-console
            log("mockvif has stopped listening to " + port),
                server.close();
        };
    });
};
// tslint:disable:max-line-length
var GetSystemDateAndTimeXML = "\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<SOAP-ENV:Envelope xmlns:SOAP-ENV=\"http://www.w3.org/2003/05/soap-envelope\" xmlns:SOAP-ENC=\"http://www.w3.org/2003/05/soap-encoding\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:chan=\"http://schemas.microsoft.com/ws/2005/02/duplex\" xmlns:wsa5=\"http://www.w3.org/2005/08/addressing\" xmlns:c14n=\"http://www.w3.org/2001/10/xml-exc-c14n#\" xmlns:wsu=\"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd\" xmlns:xenc=\"http://www.w3.org/2001/04/xmlenc#\" xmlns:wsc=\"http://schemas.xmlsoap.org/ws/2005/02/sc\" xmlns:ds=\"http://www.w3.org/2000/09/xmldsig#\" xmlns:wsse=\"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd\" xmlns:xmime5=\"http://www.w3.org/2005/05/xmlmime\" xmlns:xmime=\"http://tempuri.org/xmime.xsd\" xmlns:xop=\"http://www.w3.org/2004/08/xop/include\" xmlns:tt=\"http://www.onvif.org/ver10/schema\" xmlns:wsrfbf=\"http://docs.oasis-open.org/wsrf/bf-2\" xmlns:wstop=\"http://docs.oasis-open.org/wsn/t-1\" xmlns:wsrfr=\"http://docs.oasis-open.org/wsrf/r-2\" xmlns:tds=\"http://www.onvif.org/ver10/device/wsdl\" xmlns:tev=\"http://www.onvif.org/ver10/events/wsdl\" xmlns:wsnt=\"http://docs.oasis-open.org/wsn/b-2\" xmlns:tptz=\"http://www.onvif.org/ver20/ptz/wsdl\" xmlns:trt=\"http://www.onvif.org/ver10/media/wsdl\" xmlns:timg=\"http://www.onvif.org/ver20/imaging/wsdl\" xmlns:tmd=\"http://www.onvif.org/ver10/deviceIO/wsdl\" xmlns:tns1=\"http://www.onvif.org/ver10/topics\" xmlns:ter=\"http://www.onvif.org/ver10/error\" xmlns:tnsaxis=\"http://www.axis.com/2009/event/topics\">\n  <SOAP-ENV:Body>\n    <tds:GetSystemDateAndTimeResponse>\n      <tds:SystemDateAndTime>\n        <tt:DateTimeType>Manual</tt:DateTimeType>\n        <tt:DaylightSavings>true</tt:DaylightSavings>\n        <tt:TimeZone>\n          <tt:TZ>MoroccoStandardTime0</tt:TZ>\n        </tt:TimeZone>\n        <tt:UTCDateTime>\n          <tt:Time>\n            <tt:Hour>19</tt:Hour>\n            <tt:Minute>14</tt:Minute>\n            <tt:Second>37</tt:Second>\n          </tt:Time>\n          <tt:Date>\n            <tt:Year>2014</tt:Year>\n            <tt:Month>12</tt:Month>\n            <tt:Day>24</tt:Day>\n          </tt:Date>\n        </tt:UTCDateTime>\n      </tds:SystemDateAndTime>\n    </tds:GetSystemDateAndTimeResponse>\n  </SOAP-ENV:Body>\n</SOAP-ENV:Envelope>";
var GetCapabilitiesXML = "\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<SOAP-ENV:Envelope xmlns:SOAP-ENV=\"http://www.w3.org/2003/05/soap-envelope\" xmlns:SOAP-ENC=\"http://www.w3.org/2003/05/soap-encoding\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:chan=\"http://schemas.microsoft.com/ws/2005/02/duplex\" xmlns:wsa5=\"http://www.w3.org/2005/08/addressing\" xmlns:c14n=\"http://www.w3.org/2001/10/xml-exc-c14n#\" xmlns:wsu=\"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd\" xmlns:xenc=\"http://www.w3.org/2001/04/xmlenc#\" xmlns:wsc=\"http://schemas.xmlsoap.org/ws/2005/02/sc\" xmlns:ds=\"http://www.w3.org/2000/09/xmldsig#\" xmlns:wsse=\"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd\" xmlns:xmime5=\"http://www.w3.org/2005/05/xmlmime\" xmlns:xmime=\"http://tempuri.org/xmime.xsd\" xmlns:xop=\"http://www.w3.org/2004/08/xop/include\" xmlns:tt=\"http://www.onvif.org/ver10/schema\" xmlns:wsrfbf=\"http://docs.oasis-open.org/wsrf/bf-2\" xmlns:wstop=\"http://docs.oasis-open.org/wsn/t-1\" xmlns:wsrfr=\"http://docs.oasis-open.org/wsrf/r-2\" xmlns:tds=\"http://www.onvif.org/ver10/device/wsdl\" xmlns:tev=\"http://www.onvif.org/ver10/events/wsdl\" xmlns:wsnt=\"http://docs.oasis-open.org/wsn/b-2\" xmlns:tptz=\"http://www.onvif.org/ver20/ptz/wsdl\" xmlns:trt=\"http://www.onvif.org/ver10/media/wsdl\" xmlns:timg=\"http://www.onvif.org/ver20/imaging/wsdl\" xmlns:tmd=\"http://www.onvif.org/ver10/deviceIO/wsdl\" xmlns:tns1=\"http://www.onvif.org/ver10/topics\" xmlns:ter=\"http://www.onvif.org/ver10/error\" xmlns:tnsaxis=\"http://www.axis.com/2009/event/topics\">\n  <SOAP-ENV:Header>\n    <wsse:Security>\n      <wsse:UsernameToken>\n        <wsse:Username>admin</wsse:Username>\n        <wsse:Password Type=\"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-username-token-profile-1.0#PasswordDigest\">5y9Zcgk2iMChJdQw/yOKEtqsI/0=</wsse:Password>\n        <wsse:Nonce>Nzg1MDE2OTYz</wsse:Nonce>\n        <wsu:Created>2014-12-24T16:20:37.475Z</wsu:Created>\n      </wsse:UsernameToken>\n    </wsse:Security>\n  </SOAP-ENV:Header>\n  <SOAP-ENV:Body>\n    <tds:GetCapabilitiesResponse>\n      <tds:Capabilities>\n        <tt:Device>\n          <tt:XAddr>http://192.168.68.111/onvif/services</tt:XAddr>\n          <tt:Network>\n            <tt:IPFilter>false</tt:IPFilter>\n            <tt:ZeroConfiguration>true</tt:ZeroConfiguration>\n            <tt:IPVersion6>false</tt:IPVersion6>\n            <tt:DynDNS>false</tt:DynDNS>\n          </tt:Network>\n          <tt:System>\n            <tt:DiscoveryResolve>false</tt:DiscoveryResolve>\n            <tt:DiscoveryBye>false</tt:DiscoveryBye>\n            <tt:RemoteDiscovery>false</tt:RemoteDiscovery>\n            <tt:SystemBackup>false</tt:SystemBackup>\n            <tt:SystemLogging>false</tt:SystemLogging>\n            <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>\n            <tt:SupportedVersions>\n              <tt:Major>2</tt:Major>\n              <tt:Minor>40</tt:Minor>\n            </tt:SupportedVersions>\n          </tt:System>\n          <tt:IO>\n            <tt:InputConnectors>1</tt:InputConnectors>\n            <tt:RelayOutputs>1</tt:RelayOutputs>\n          </tt:IO>\n          <tt:Security>\n            <tt:TLS1.1>true</tt:TLS1.1>\n            <tt:TLS1.2>false</tt:TLS1.2>\n            <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>\n            <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>\n            <tt:X.509Token>false</tt:X.509Token>\n            <tt:SAMLToken>false</tt:SAMLToken>\n            <tt:KerberosToken>false</tt:KerberosToken>\n            <tt:RELToken>false</tt:RELToken>\n          </tt:Security>\n        </tt:Device>\n        <tt:Events>\n          <tt:XAddr>http://192.168.68.111/onvif/services</tt:XAddr>\n          <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>\n          <tt:WSPullPointSupport>false</tt:WSPullPointSupport>\n          <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>\n        </tt:Events>\n        <tt:Imaging>\n          <tt:XAddr>http://192.168.68.111/onvif/services</tt:XAddr>\n        </tt:Imaging>\n        <tt:Media>\n          <tt:XAddr>http://192.168.68.111/onvif/services</tt:XAddr>\n          <tt:StreamingCapabilities>\n            <tt:RTPMulticast>false</tt:RTPMulticast>\n            <tt:RTP_TCP>true</tt:RTP_TCP>\n            <tt:RTP_RTSP_TCP>true</tt:RTP_RTSP_TCP>\n          </tt:StreamingCapabilities>\n        </tt:Media>\n        <tt:PTZ>\n          <tt:XAddr>http://192.168.68.111/onvif/services</tt:XAddr>\n        </tt:PTZ>\n        <tt:Extension>\n          <tt:DeviceIO>\n            <tt:XAddr>http://192.168.68.111/onvif/services</tt:XAddr>\n            <tt:VideoSources>1</tt:VideoSources>\n            <tt:VideoOutputs>0</tt:VideoOutputs>\n            <tt:AudioSources>1</tt:AudioSources>\n            <tt:AudioOutputs>0</tt:AudioOutputs>\n            <tt:RelayOutputs>1</tt:RelayOutputs>\n          </tt:DeviceIO>\n        </tt:Extension>\n      </tds:Capabilities>\n    </tds:GetCapabilitiesResponse>\n  </SOAP-ENV:Body>\n</SOAP-ENV:Envelope>";
var GetVideoSourcesXML = "\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<SOAP-ENV:Envelope xmlns:SOAP-ENV=\"http://www.w3.org/2003/05/soap-envelope\" xmlns:SOAP-ENC=\"http://www.w3.org/2003/05/soap-encoding\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:chan=\"http://schemas.microsoft.com/ws/2005/02/duplex\" xmlns:wsa5=\"http://www.w3.org/2005/08/addressing\" xmlns:c14n=\"http://www.w3.org/2001/10/xml-exc-c14n#\" xmlns:wsu=\"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd\" xmlns:xenc=\"http://www.w3.org/2001/04/xmlenc#\" xmlns:wsc=\"http://schemas.xmlsoap.org/ws/2005/02/sc\" xmlns:ds=\"http://www.w3.org/2000/09/xmldsig#\" xmlns:wsse=\"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd\" xmlns:xmime5=\"http://www.w3.org/2005/05/xmlmime\" xmlns:xmime=\"http://tempuri.org/xmime.xsd\" xmlns:xop=\"http://www.w3.org/2004/08/xop/include\" xmlns:tt=\"http://www.onvif.org/ver10/schema\" xmlns:wsrfbf=\"http://docs.oasis-open.org/wsrf/bf-2\" xmlns:wstop=\"http://docs.oasis-open.org/wsn/t-1\" xmlns:wsrfr=\"http://docs.oasis-open.org/wsrf/r-2\" xmlns:tds=\"http://www.onvif.org/ver10/device/wsdl\" xmlns:tev=\"http://www.onvif.org/ver10/events/wsdl\" xmlns:wsnt=\"http://docs.oasis-open.org/wsn/b-2\" xmlns:tptz=\"http://www.onvif.org/ver20/ptz/wsdl\" xmlns:trt=\"http://www.onvif.org/ver10/media/wsdl\" xmlns:timg=\"http://www.onvif.org/ver20/imaging/wsdl\" xmlns:tmd=\"http://www.onvif.org/ver10/deviceIO/wsdl\" xmlns:tns1=\"http://www.onvif.org/ver10/topics\" xmlns:ter=\"http://www.onvif.org/ver10/error\" xmlns:tnsaxis=\"http://www.axis.com/2009/event/topics\">\n  <SOAP-ENV:Header>\n    <wsse:Security>\n      <wsse:UsernameToken>\n        <wsse:Username>admin</wsse:Username>\n        <wsse:Password Type=\"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-username-token-profile-1.0#PasswordDigest\">zrbiJA5e0IkzAeYHk/HAlTgBs9Q=</wsse:Password>\n        <wsse:Nonce>NDU3MTE0NzM1OQ==</wsse:Nonce>\n        <wsu:Created>2014-12-24T16:07:17.112Z</wsu:Created>\n      </wsse:UsernameToken>\n    </wsse:Security>\n  </SOAP-ENV:Header>\n  <SOAP-ENV:Body>\n    <trt:GetVideoSourcesResponse>\n      <trt:VideoSources token=\"vidsrc0\">\n        <tt:Framerate>30</tt:Framerate>\n        <tt:Resolution>\n          <tt:Width>1920</tt:Width>\n          <tt:Height>1080</tt:Height>\n        </tt:Resolution>\n      </trt:VideoSources>\n    </trt:GetVideoSourcesResponse>\n  </SOAP-ENV:Body>\n</SOAP-ENV:Envelope>\n";
var GetProfilesXML = "\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<SOAP-ENV:Envelope xmlns:SOAP-ENV=\"http://www.w3.org/2003/05/soap-envelope\" xmlns:SOAP-ENC=\"http://www.w3.org/2003/05/soap-encoding\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:chan=\"http://schemas.microsoft.com/ws/2005/02/duplex\" xmlns:wsa5=\"http://www.w3.org/2005/08/addressing\" xmlns:c14n=\"http://www.w3.org/2001/10/xml-exc-c14n#\" xmlns:wsu=\"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd\" xmlns:xenc=\"http://www.w3.org/2001/04/xmlenc#\" xmlns:wsc=\"http://schemas.xmlsoap.org/ws/2005/02/sc\" xmlns:ds=\"http://www.w3.org/2000/09/xmldsig#\" xmlns:wsse=\"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd\" xmlns:xmime5=\"http://www.w3.org/2005/05/xmlmime\" xmlns:xmime=\"http://tempuri.org/xmime.xsd\" xmlns:xop=\"http://www.w3.org/2004/08/xop/include\" xmlns:tt=\"http://www.onvif.org/ver10/schema\" xmlns:wsrfbf=\"http://docs.oasis-open.org/wsrf/bf-2\" xmlns:wstop=\"http://docs.oasis-open.org/wsn/t-1\" xmlns:wsrfr=\"http://docs.oasis-open.org/wsrf/r-2\" xmlns:tds=\"http://www.onvif.org/ver10/device/wsdl\" xmlns:tev=\"http://www.onvif.org/ver10/events/wsdl\" xmlns:wsnt=\"http://docs.oasis-open.org/wsn/b-2\" xmlns:tptz=\"http://www.onvif.org/ver20/ptz/wsdl\" xmlns:trt=\"http://www.onvif.org/ver10/media/wsdl\" xmlns:timg=\"http://www.onvif.org/ver20/imaging/wsdl\" xmlns:tmd=\"http://www.onvif.org/ver10/deviceIO/wsdl\" xmlns:tns1=\"http://www.onvif.org/ver10/topics\" xmlns:ter=\"http://www.onvif.org/ver10/error\" xmlns:tnsaxis=\"http://www.axis.com/2009/event/topics\">\n  <SOAP-ENV:Header>\n    <wsse:Security>\n      <wsse:UsernameToken>\n        <wsse:Username>admin</wsse:Username>\n        <wsse:Password Type=\"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-username-token-profile-1.0#PasswordDigest\">eqy980Ghbsq3pGRTc/9ogfBa/oA=</wsse:Password>\n        <wsse:Nonce>NzQ2MTAxMDk3NQ==</wsse:Nonce>\n        <wsu:Created>2014-12-24T16:20:37.481Z</wsu:Created>\n      </wsse:UsernameToken>\n    </wsse:Security>\n  </SOAP-ENV:Header>\n  <SOAP-ENV:Body>\n    <trt:GetProfilesResponse>\n      <trt:Profiles fixed=\"true\" token=\"main\">\n        <tt:Name>main</tt:Name>\n        <tt:VideoSourceConfiguration token=\"vscfg0\">\n          <tt:Name>vscfg0</tt:Name>\n          <tt:UseCount>1</tt:UseCount>\n          <tt:SourceToken>vidsrc0</tt:SourceToken>\n          <tt:Bounds height=\"1080\" width=\"1920\" y=\"0\" x=\"0\"></tt:Bounds>\n        </tt:VideoSourceConfiguration>\n        <tt:VideoEncoderConfiguration token=\"main\">\n          <tt:Name>Main stream encoder</tt:Name>\n          <tt:UseCount>1</tt:UseCount>\n          <tt:Encoding>H264</tt:Encoding>\n          <tt:Resolution>\n            <tt:Width>1920</tt:Width>\n            <tt:Height>1080</tt:Height>\n          </tt:Resolution>\n          <tt:Quality>8</tt:Quality>\n          <tt:RateControl>\n            <tt:FrameRateLimit>5</tt:FrameRateLimit>\n            <tt:EncodingInterval>1</tt:EncodingInterval>\n            <tt:BitrateLimit>1000</tt:BitrateLimit>\n          </tt:RateControl>\n          <tt:H264>\n            <tt:GovLength>30</tt:GovLength>\n            <tt:H264Profile>High</tt:H264Profile>\n          </tt:H264>\n          <tt:Multicast>\n            <tt:Address>\n              <tt:Type>IPv4</tt:Type>\n              <tt:IPv4Address>0.0.0.0</tt:IPv4Address>\n            </tt:Address>\n            <tt:Port>0</tt:Port>\n            <tt:TTL>0</tt:TTL>\n            <tt:AutoStart>false</tt:AutoStart>\n          </tt:Multicast>\n          <tt:SessionTimeout>PT60S</tt:SessionTimeout>\n        </tt:VideoEncoderConfiguration>\n        <tt:PTZConfiguration token=\"default\">\n          <tt:Name>default</tt:Name>\n          <tt:UseCount>1</tt:UseCount>\n          <tt:NodeToken>default</tt:NodeToken>\n          <tt:DefaultAbsolutePantTiltPositionSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/PositionGenericSpace</tt:DefaultAbsolutePantTiltPositionSpace>\n          <tt:DefaultAbsoluteZoomPositionSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionGenericSpace</tt:DefaultAbsoluteZoomPositionSpace>\n          <tt:DefaultRelativePanTiltTranslationSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/TranslationGenericSpace</tt:DefaultRelativePanTiltTranslationSpace>\n          <tt:DefaultRelativeZoomTranslationSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/TranslationGenericSpace</tt:DefaultRelativeZoomTranslationSpace>\n          <tt:DefaultContinuousPanTiltVelocitySpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/VelocityGenericSpace</tt:DefaultContinuousPanTiltVelocitySpace>\n          <tt:DefaultContinuousZoomVelocitySpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/VelocityGenericSpace</tt:DefaultContinuousZoomVelocitySpace>\n          <tt:DefaultPTZSpeed>\n            <tt:PanTilt space=\"http://www.onvif.org/ver10/tptz/PanTiltSpaces/GenericSpeedSpace\" y=\"1\" x=\"1\"></tt:PanTilt>\n            <tt:Zoom space=\"http://www.onvif.org/ver10/tptz/ZoomSpaces/ZoomGenericSpeedSpace\" x=\"1\"></tt:Zoom>\n          </tt:DefaultPTZSpeed>\n          <tt:DefaultPTZTimeout>PT1093754.348S</tt:DefaultPTZTimeout>\n        </tt:PTZConfiguration>\n      </trt:Profiles>\n    </trt:GetProfilesResponse>\n  </SOAP-ENV:Body>\n</SOAP-ENV:Envelope>\n";
var AbsoluteMoveXML = "\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<SOAP-ENV:Envelope xmlns:SOAP-ENV=\"http://www.w3.org/2003/05/soap-envelope\" xmlns:SOAP-ENC=\"http://www.w3.org/2003/05/soap-encoding\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:chan=\"http://schemas.microsoft.com/ws/2005/02/duplex\" xmlns:wsa5=\"http://www.w3.org/2005/08/addressing\" xmlns:c14n=\"http://www.w3.org/2001/10/xml-exc-c14n#\" xmlns:wsu=\"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd\" xmlns:xenc=\"http://www.w3.org/2001/04/xmlenc#\" xmlns:wsc=\"http://schemas.xmlsoap.org/ws/2005/02/sc\" xmlns:ds=\"http://www.w3.org/2000/09/xmldsig#\" xmlns:wsse=\"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd\" xmlns:xmime5=\"http://www.w3.org/2005/05/xmlmime\" xmlns:xmime=\"http://tempuri.org/xmime.xsd\" xmlns:xop=\"http://www.w3.org/2004/08/xop/include\" xmlns:tt=\"http://www.onvif.org/ver10/schema\" xmlns:wsrfbf=\"http://docs.oasis-open.org/wsrf/bf-2\" xmlns:wstop=\"http://docs.oasis-open.org/wsn/t-1\" xmlns:wsrfr=\"http://docs.oasis-open.org/wsrf/r-2\" xmlns:tds=\"http://www.onvif.org/ver10/device/wsdl\" xmlns:tev=\"http://www.onvif.org/ver10/events/wsdl\" xmlns:wsnt=\"http://docs.oasis-open.org/wsn/b-2\" xmlns:tptz=\"http://www.onvif.org/ver20/ptz/wsdl\" xmlns:trt=\"http://www.onvif.org/ver10/media/wsdl\" xmlns:timg=\"http://www.onvif.org/ver20/imaging/wsdl\" xmlns:tmd=\"http://www.onvif.org/ver10/deviceIO/wsdl\" xmlns:tns1=\"http://www.onvif.org/ver10/topics\" xmlns:ter=\"http://www.onvif.org/ver10/error\" xmlns:tnsaxis=\"http://www.axis.com/2009/event/topics\">\n  <SOAP-ENV:Header>\n    <wsse:Security>\n      <wsse:UsernameToken>\n        <wsse:Username>admin</wsse:Username>\n        <wsse:Password Type=\"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-username-token-profile-1.0#PasswordDigest\">XxKbln8Ajn9tM4/ikobaunLC1qc=</wsse:Password>\n        <wsse:Nonce>NjYxNTE4MTk1OQ==</wsse:Nonce>\n        <wsu:Created>2014-12-27T21:40:40.411Z</wsu:Created>\n      </wsse:UsernameToken>\n    </wsse:Security>\n  </SOAP-ENV:Header>\n  <SOAP-ENV:Body>\n    <tptz:AbsoluteMoveResponse></tptz:AbsoluteMoveResponse>\n  </SOAP-ENV:Body>\n</SOAP-ENV:Envelope>\n";
